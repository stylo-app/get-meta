"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mdToText = void 0;
/* eslint-disable @typescript-eslint/no-var-requires */
const string_1 = require("./string");
const remark = require('remark');
const strip = require('strip-markdown');
// const squeezeParagraphs = require('remark-squeeze-paragraphs')
const processMd = remark()
    .use(strip)
    // .use(squeezeParagraphs) // <-- doesn't work very well: leaves couple sequential new lines
    .processSync;
exports.mdToText = (md) => {
    if (string_1.isEmptyStr(md))
        return md;
    return String(processMd(md))
        // strip-markdown renders URLs as:
        // http&#x3A;//hello.com
        // so we need to fix this issue
        .replace(/&#x3A;/g, ':');
};
